[#ftl]
{
    [#if command??]
    "cmd": "${command}",
    [#else]
    "args": [ [#list args as arg]
        "${arg}"[#if arg_has_next],[/#if]
    [/#list] ],
    [/#if]
    "container": {
        "docker": {
            "image": "${imageName}:${imageVersion}",
            "network": "BRIDGE",
            "privileged": true,
            "portMappings": [ [#list portBindings as port]
                { "containerPort": ${port.getKey()?c}, "hostPort": ${port.getValue()?c} }[#if port_has_next],[/#if]
            [/#list] ],
            "forcePullImage": true,
            "volumes": [ ]
        },
        "type": "DOCKER"
    },
    "cpus": ${cpus?c},
    "mem": ${memory?c},
    "instances": 1,
    "ports": [ [#list openPorts as port]
        ${port?c}[#if port_has_next],[/#if]
    [/#list] ],
    [#if environment?has_content]
    "env": { [#list environment as env]
        "${env.getKey()}": "${env.getValue()?c}"[#if env_has_next],[/#if]
    [/#list] },
    [/#if]
    "id": "${id}"
}